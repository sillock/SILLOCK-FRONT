<!doctype html>
<html>
 <head>
     <meta charset="utf-8">
     <title>New Forms</title>
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
     <!-- 구글웹폰트 font-family: 'Jua', sans-serif; font-family: 'Nanum Gothic', sans-serif; -->
     <link rel="preconnect" href="https://fonts.gstatic.com">
     <link href="https://fonts.googleapis.com/css2?family=Jua&family=Nanum+Gothic:wght@800&display=swap" rel="stylesheet">
    <!-- 부가적인 테마 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
     <!-- w3 -->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
     <!--html2canvas-->
     <script type = "text/javascript" src = "http://code.jquery.com/jquery-latest.min.js"></script> <!--제이쿼리-->
    <script type = "text/javascript" src = "https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
    <script type = "text/javascript" src = "https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
        <style>
            .header {
              position: fixed;
              bottom: 0;
              left: 0;
              right: 0;
              z-index: 1;
                
            }
            .font {
                font-family: 'Nanum Gothic', sans-serif;
            }
            .imgcenter{
                position: absolute;
                left:0; right: 0;
                margin: auto;
            }
            h1,h2,h3,h4,h5,p{
                font-family: 'Nanum Gothic', sans-serif;
            }
        </style>
  </head>
  <body>
      <nav class="navbar navbar-light bg-white border-bottom shadow-sm">
       <div class="container-fluid">
        <a class="navbar-brand" href="#"><i class="fa fa-chevron-left" aria-hidden="true"></i>
           </a><b class="navbar-brand">증명서 만들기</b>
           
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">홈</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">마이페이지</a>
            </li>
          </ul>
        </div>
      </div>
      </nav>
      
      <div class="container mt-5 mb-3 font " style="background: linear-gradient(-135deg, #E4A972, #9941D8) fixed; width: 700px; height: 700px; border-radius: 30px; box-shadow: 4px 4px 4px gray;"  id="certification">
          &nbsp;
          <h1 id="myname" class="text-center font " style="color: white; text-shadow: 2px 2px 2px gray;">자격증의 이름</h1>
          <!--증명서 이미지-->
          <div class="mt-3 imgcenter" style="width: 350px; height: 350px; border-radius: 30px; overflow: hidden; border: 4px solid white; display: block;">
                <img src="https://cdn.pixabay.com/photo/2016/11/29/08/24/bakery-1868396_960_720.jpg"  style="width: auto; height: 400px; display: block;">
          </div>
          <!--증명서 내용-->
          <div class="container" style="margin-top: 400px; margin-left: 100px; color: white">
            <h4>팀원명 : 홍길동 </h4>
            <h4 style="display:inline;">탐방 레스토랑 : </h4> 
              <h4 id="processName" style="display:inline;"></h4>&nbsp;&nbsp;
              <input class="form-control w-25" id="processName_input" type="text" style="display:inline;" placeholder="과정명 입력" aria-label="default input example">
              <button class="btn btn-dark " style="display:inline;" onclick="make()">수정</button><br><br>
              
            <h4 style="display:inline;">과정명 : </h4> 
              <h4 id="Organization" style="display:inline;"></h4>&nbsp;&nbsp;
              <input class="form-control w-25" id="Organization_input" type="text" style="display:inline;" placeholder="과정명 입력" aria-label="default input example">
              <button class="btn btn-dark " style="display:inline;" onclick="make2()">수정</button><br><br>
              
              <h4 style="display:inline;">평점 : </h4>
              <h2 style="display: inline-block" id="value1"></h2>
              <input type="range" class="form-range" min="1" max="5" id="customRange" style="width: 250px; margin-left: 40px"  oninput="make4();"> 
              
          </div>
          
          
      </div>
          
      <div class="container text-center pb-5">
          <button id="create_pdf" class="btn btn-dark mt-4" style="display:inline;" onclick="make3()">PDF로 저장하기</button>
          <button class="btn btn-dark mt-4" style="display:inline;" onclick="make3()">내용 저장하기</button>
      </div>
   
      
     <script>
         let obj ={
             tokenId: "5464654-331231",   // '고유'한 카드 번호
             name: "미슐랭 탐방 동아리",       // 자격증의 이름
             num: "21326554657",        // 자격증 no.
             issuer: "서울특별시 금천구 서부샛길 606 가산 대성디폴리스 A동 27층",     // 발행자의 주소
             imgurl: "123123",     // IPFS 자격증 발행 숫자
             holder: "경기도 의정부시 민락동 123번지 456",     // 소유자의 주소
             date: "2020. 05. 13 - 2021. 03. 02" ,     // 행사 날짜
             mintDate: "2021. 07. 13",   // 발행 날짜  

             exchangable: true,  // 교환 가능여부
             authorized: true   // 검증 된 발행자인가
         }
     
         document.getElementById("myname").innerHTML = obj.name;
         document.getElementById("num").innerHTML = obj.num;
         document.getElementById("date").innerHTML = obj.date;
         document.getElementById("issuer").innerHTML = obj.issuer;
         document.getElementById("mintDate").innerHTML = obj.mintDate;
         
        function make() {
            document.getElementById("processName").innerHTML = document.getElementById("processName_input").value;
        }
        function make2() {
            document.getElementById("Organization").innerHTML = document.getElementById("Organization_input").value;
        } 

        function make4() {
            if(document.getElementById("customRange").value == 1) document.getElementById("value1").innerHTML = "★";
            if(document.getElementById("customRange").value == 2) document.getElementById("value1").innerHTML = "★★";
            if(document.getElementById("customRange").value == 3) document.getElementById("value1").innerHTML = "★★★";
            if(document.getElementById("customRange").value == 4) document.getElementById("value1").innerHTML = "★★★★";
            if(document.getElementById("customRange").value == 5) document.getElementById("value1").innerHTML = "★★★★★";
        }
    </script>
         <script>
        $('#create_pdf').click(function() {
          //pdf_wrap을 canvas객체로 변환
          html2canvas($('#certification')[0]).then(function(canvas) {
            var doc = new jsPDF('p', 'mm', 'a4'); //jspdf객체 생성
            var imgData = canvas.toDataURL('image/png'); //캔버스를 이미지로 변환
            doc.addImage(imgData, 'PNG', 0, 0); //이미지를 기반으로 pdf생성
            doc.save('sample-file.pdf'); //pdf저장
          });
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>    
  </body>
</html>